---
const source = 'https://botw-compendium.herokuapp.com/api/v3/compendium/all';
const res = await fetch(source);
const data = await res.json();
console.log(data.data);
---

<ul class="cards">
  {data?.data.map(item => (
    <li class="card-item" data-category={item.category.toLowerCase()}>
      <figure>
        <button class="expand-btn" aria-label={`Expand image of ${item.name}`}>+</button>
        <img
          class="card-image"
          src={item.image}
          alt={item.name}
        />
        <figcaption>
          <p>{item.description}</p>
          <p>
            <strong>Locations:</strong>
            {item.common_locations?.join(', ') || '–'}
          </p>
          <p>
            <strong>Drops:</strong>
            {item.drops?.join(', ') || '–'}
          </p>
        </figcaption>
      </figure>
      <h3>{item.name}</h3>
      <p>{item.category}</p>
    </li>
  ))}
</ul>

<p id="no-results" style="display: none; text-align: center; color: var(--text-muted);">
  No items found.
</p>